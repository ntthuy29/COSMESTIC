@model List<COSMESTIC.Models.Discount.ListDiscountModel>


@{
    ViewData["Title"] = "Danh sách mã khuyến mại";
    Layout = "~/Views/Shared/LayoutAdmin.cshtml"; // Áp dụng layout admin
}

<h2>Admin Product Index</h2>
<!-- Nội dung của trang -->
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<h2>Danh sách mã khuyến mại</h2>
<button class="btn btn-primary"
        style="background-color: #0077BE; color: white;"
        onclick="location.href='@Url.Action("Create", "Discount")'">
    Thêm mã khuyến mãi
</button>


<!-- Thanh tìm kiếm và bộ lọc -->
<form asp-action="Index" method="get">
    <div class="form-group">
        <label>Tên mã khuyến mại:</label>
        <input type="text" name="search" value="@ViewData["Search"]" class="form-control" />
    </div>
    <div class="form-group">
        <label>Trạng thái:</label>
        <select name="duocsudung" class="form-control">
            <option value="">Tất cả</option>
            <option value="duocsudung" selected="@(ViewData["StatusFilter"]?.ToString() == "duocsudung" ? "selected" : null)">Được sử dụng</option>
            <option value="khongduocsudung" selected="@(ViewData["StatusFilter"]?.ToString() == "khongduocsudung" ? "selected" : null)">Không được sử dụng</option>
        </select>
    </div>
    <div class="form-group">
        <label>Giá trị:</label>
        <select name="value" class="form-control">
            <option value="">Tất cả</option>
            <option value=">10" selected="@(ViewData["ValueFilter"]?.ToString() == ">10" ? "selected" : null)">> 10</option>
            <option value=">20" selected="@(ViewData["ValueFilter"]?.ToString() == ">20" ? "selected" : null)">> 20</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Lọc</button>
</form>

<!-- Bảng hiển thị danh sách -->
<table class="table">
    <thead>
        <tr>
            <th>Mã khuyến mại</th>
            <th>Tên</th>
            <th>Giá trị</th>
            <th>Ngày bắt đầu</th>
            <th>Ngày kết thúc</th>
            <th>Trạng thái</th>
            <th>Hành động</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.discountID</td>
                <td>@item.name</td>
                <td>@item.value</td>
                <td>@item.startDate</td>
                <td>@item.endDate</td>
                <td>@(item.isActive ? "Được sử dụng" : "Không được sử dụng")</td>
                <td>
                    <a asp-controller="Discount" asp-action="Edit" asp-route-id="@item.discountID" class="btn btn-sm btn-outline-primary">
                        <i class="fas fa-edit"></i>
                    </a>
                </td>
           
            </tr>
        }
    </tbody>
</table>